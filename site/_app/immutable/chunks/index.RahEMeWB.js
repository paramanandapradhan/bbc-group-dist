import{w}from"./entry.pwrIfJwp.js";import{n as T,_ as V}from"./table.svelte_svelte_type_style_lang.CZ_88cru.js";import{s as k,e as h,H as D,c as v,b as _,u as H,f,l as c,i as C,h as y,n as b,v as E,w as S,x as j}from"./scheduler.BQt8dci4.js";import{S as q,i as x}from"./index.doDzWW4A.js";function L(a){let t,e,s,r,l;return{c(){t=h("div"),e=h("div"),s=h("div"),r=new D(!1),this.h()},l(n){t=v(n,"DIV",{class:!0});var o=_(t);e=v(o,"DIV",{class:!0,role:!0,"aria-live":!0,"aria-atomic":!0});var m=_(e);s=v(m,"DIV",{class:!0});var u=_(s);r=H(u,!1),u.forEach(f),m.forEach(f),o.forEach(f),this.h()},h(){r.a=null,c(s,"class","toast-body text-center"),c(e,"class",l="toast "+a[1]+" svelte-a1eky1"),c(e,"role","alert"),c(e,"aria-live","assertive"),c(e,"aria-atomic","true"),c(t,"class","d-flex justify-content-center")},m(n,o){C(n,t,o),y(t,e),y(e,s),r.m(a[0],s),a[5](e)},p(n,[o]){o&1&&r.p(n[0]),o&2&&l!==(l="toast "+n[1]+" svelte-a1eky1")&&c(e,"class",l)},i:b,o:b,d(n){n&&f(t),a[5](null)}}}function M(a,t,e){let{message:s}=t,{duration:r=3e3}=t,{theme:l="info"}=t,{toastId:n}=t,o,m;E(async()=>{if(o){var i=o;if(i&&(i.addEventListener("hidden.bs.toast",I=>{B({toastId:n})}),bootstrap)){let I={delay:r,animation:!0};m=new bootstrap.Toast(i,I),m.show()}}});function u(i){S[i?"unshift":"push"](()=>{o=i,e(2,o)})}return a.$$set=i=>{"message"in i&&e(0,s=i.message),"duration"in i&&e(3,r=i.duration),"theme"in i&&e(1,l=i.theme),"toastId"in i&&e(4,n=i.toastId)},[s,l,o,r,n,u]}class z extends q{constructor(t){super(),x(this,t,M,L,k,{message:0,duration:3,theme:1,toastId:4})}}let d;const g=w([]),A=({component:a,props:t})=>{let s={toastId:"toast-"+T(),component:a,props:t};return d&&clearTimeout(d),g.update(r=>[...r,s]),s},B=async({toastId:a})=>{let t=j(g);const e=t.find(s=>s.toastId==a);e&&(e.hide=!0),d&&clearTimeout(d),d=setTimeout(async()=>{V.remove(t,s=>s.hide),g.set(t),clearTimeout(d)},300)},F=async a=>{a=a||{},A({component:z,props:a})},O=async({message:a,duration:t})=>{F({message:a,duration:t,theme:"info"})};export{O as a,F as s,g as t};
